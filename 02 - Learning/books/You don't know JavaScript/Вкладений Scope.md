---
title: Вкладений Scope
created: 2024-06-13 15:57
last modified: Thursday 13th June 2024 15:57:51
aliases:
  - Nested Scope
tags:
  - book/you-dont-know-js/scope-and-closures
---
# Вкладений Scope

Як ми вже сказали, scope це набір правил для пошуку змінних по їх ідентифікатору. Зазвичай потрібно розглядати та взаємодіяти з більше, ніж одним Scope

Так само, як блок або функція може бути вкладена в інший блок або фунцію, scope також може бути вкладений в інший scope
Тож, якщо Engine не знайде змінну в поточному Scope, він запитає зовнішній scope відносного цього і так, поки не досягнеться останній(global) 

Наприклад:
```js
function foo(a) {
	console.log( a + b );
}

var b = 2;

foo( 2 ); // 4
```

`RHS` посилання на b не може бути вирішенно тільки з використанням вкладеного scope(функції foo), але може бути вирішено через scope вищого рівня, в цьому випадку глобального

Давайте представимо розмову Engine та Scope:
```diff
+ Engine: Хей, Scope, чув про змінну b? У мене є RHS посилання на неї
- Scope: Ні, нічого про неї не знаю. Йди глубже
+ Engine: Хей, Scope назовні foo, ти ще і глобальний, чудово. У тебе є змінна b?  У мене є RHS посилання на неї
- Scope: Так, є
```

**Є прості правила для обходу вкладених Scope**: Engine починає з поточного Scope, перевіряє чи є потрібна змінна тут, якщо її немає то продовжує йти наверх, і так по кругу до поки не буде досягнутий global Scope. В цьому випадку пошук зупиняється, не залежно від того знайшлась змінна, чи ні 


Також це можна представити через картинку

![[Pasted image 20240616162202.png]]