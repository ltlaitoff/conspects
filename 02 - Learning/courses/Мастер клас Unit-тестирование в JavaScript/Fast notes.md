---
title: " Введение - Unit-тестирование"
created: 2024-05-20 18:28
last modified: Monday 20th May 2024 18:28:47
aliases: 
tags:
  - Мастерклас/Unit-тестирование_в_JavaScript
  - javascript-ninja
  - Draft
---
# Введение - Unit-тестирование

Важно понимать зачем что-то тестировать перед тем как начинать это тестировать


Есть один вопрос без которого нет смысла приступать к задаче вообще:
"Как я пойму что это работает?"
- Когда QA аппрувнет PR
- Когда я потестирую и пойму что всё нормально
- Когда реализованная модель(часть кода) удовлетворяет всем бизнес-требованиям

T-shaped специалист
![[Pasted image 20240520183244.png]]

BA - Бизнес анализ. Без хорошего понимания требований, которые формируются БА, очень сложно реализовать то, что требовалось изначально

Пример з банком про регресии и контроль качества когда всё что работало должно работать

"Мы не пишем тесты потому что у нас нет на это времени"

Этот подход ошибочний потому что, к примеру документация: "Я не буду писать документацию на задачу, это будет отдельная задача". Такая задача будет сделанна никогда

С тестированием всё ровно наоборот, пример из Аутсорса где заказчик смотрит на план расстрат, где 30 часов выделенно на тестирование и не понимает что это ему даст. И мало кто может ответить на этот вопрос

"Тесты это не долго и дорого, а наоборот способ економить и гарантировать качество продукта на средней дистации"

График на внедрение автоматического(чёрный) и ручного(красный) тестирования:

![[Pasted image 20240520183903.png]]

Когда продукт маленький то затраты на его тестирование маленькие. Один QA инженер может прокликать весь продукт за 2 - 3 часа

С ростом продукта прокликивание стаёт всё дольше и нам становиться всё хуже

Рано или поздно наступает точка, когда ручное тестирование не рентабельное и не оправданно

Но мы не можем отказаться от ручного тестирования полностью

Тесты будут гарантировать только то, что конкретный узел системы работает ровно так, как это задумали

Но гарантировать что ровно то, как вы задумали и то, что необходимо заказчику, тесты не могут


Для того что-бы гарантировать получение качественного продукта мы можем вкладываться и в автоматизированное тестирование, и в ручное сокращая его об'єм

Представим, что сейчас полный цикл тестирования составляет 20 минут. Мы делаем PR, тестировщик всё проверяет и через 20 минут мы получаем результат.
Достаточно быстро эти 20 минут превратятся в 4 часа

Это приводит к тому, что один QA инженер может протестировать максимум 2, а в реальности, кого мы обманываем, один билд в рабочие сутки

И так-же если там что-то поломается, что не относиться к списку изменений нам будет достаточно сложно отследить что именно пошло не так

Если у нас есть автоматические тесты то мы их запускаем на каждый коммит, или на каждый PR и можем сразу посмотреть что у нас пошло не так

CD:
build -> test(Y/N) => deploy

По такой схеме работает facebook: У нас есть фича, она проверяется и сразу отправляется в прод на 0.001 процент, если всё хорошо и не видно падения метрик то на 0.01, потом 0.1, 1%, 10% и 100%(цифри примерно такие)


Когда вам не нужны тесты?
- Стартап на pre-seed стадии(когда вам ещё не дали денег) - в этой стадии задача максимально быстро проверить какую-то бизнес модель. Если мы будем писать тут тесты то много из них будут просто выкидываться
	- И ещё мы можем в один день поменять всё
- A/B тестирование - когда маркетологи говорят "А если мы тут покрасим кнопочку в синий цвет?". Или более радикальные изменения. И тут может оказать что этот код будет выброшен. Соответственно ценность тестов тут низкая. Но что если мы допустим ошибку в коде? Тогда нужно будет начинать A/B тестирование с нуля
- Когда ваш frontend не является денежно генеруемым потоком
	Например, у нас есть система которая обладает большим API и один из её инструментов является frontend, но им пользуется небольшое количество людей. Тогда может оказать что писать тесты на frontend не имеет смысла и лучше сосредоточиться на основном функционале

А что нужно тестировать?
Перед тем как отвечать на вопрос что нужно тестировать нужно ответить на вопрос "А как можно тестировать "
На стыке этих двух вопросов будет вопрос "А что и как нужно тестировать?"

Ещё зачем нам могут быть нужны тесты, самая главная причина, - если у нас появляются не контролируемые баги. То есть мы делаем что-то одно, а ломается другое






















